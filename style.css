* { box-sizing: border-box; }
:root {
  --bg: #0c0f14;
  --panel: #141924;
  --ink: #eaf0ff;
  --muted: #a9b3c8;
  --accent: #8ac4ff;
  --accent-2: #ffd166;
  --danger: #ff6b6b;
  --radius: 14px;
  --shadow: 0 10px 30px rgba(0,0,0,.35);
}

html, body { height: 100%; }
body {
  margin: 0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
  background: radial-gradient(1200px 600px at 50% -20%, #1a2233, var(--bg));
  color: var(--ink);
}

.app {
  max-width: 920px;
  margin: 0 auto;
  padding: 28px 20px 60px;
}

.topbar h1 { margin: 0 0 6px; letter-spacing: 0.5px; }
.sub { margin: 0; color: var(--muted); }

.stage {
  display: grid;
  place-items: center;
  gap: 18px;
  margin: 26px 0 6px;
  padding: 28px;
  background: linear-gradient(180deg,#111827,#0d1422);
  border: 1px solid #1f2a44;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}

.coin {
  width: 180px;
  height: 180px;
  perspective: 1000px;
  position: relative;
}

.face {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  font-weight: 800;
  letter-spacing: 2px;
  border-radius: 50%;
  backface-visibility: hidden;
  box-shadow: inset 0 0 50px rgba(255,255,255,0.08), 0 12px 24px rgba(0,0,0,.35);
  border: 2px solid #2b3756;
}

.face.heads {
  background: conic-gradient(from 90deg, var(--accent), #9bf, #6fb8ff, #4aa3ff, var(--accent));
  color: #0a1222;
}

.face.tails {
  transform: rotateY(180deg);
  background: conic-gradient(from 90deg, var(--accent-2), #ffe08a, #ffc75f, #ffbd4a, var(--accent-2));
  color: #2f2100;
}

.coin.flip {
  animation: flip 900ms cubic-bezier(.2,.6,.2,1);
}

@keyframes flip {
  0%   { transform: rotateY(0) rotateX(0) scale(1); }
  50%  { transform: rotateY(540deg) rotateX(10deg) scale(1.05); }
  100% { transform: rotateY(1080deg) rotateX(0deg) scale(1); }
}

.result {
  min-height: 28px;
  font-size: 20px;
  color: var(--muted);
}

.controls {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
  margin: 18px 0 6px;
}

.primary, .secondary, .danger, .ghost {
  padding: 12px 16px;
  border-radius: 10px;
  border: 1px solid #27324e;
  background: #1a2236;
  color: var(--ink);
  cursor: pointer;
}
.primary { background: linear-gradient(180deg,#2a395c,#1f2b49); border-color:#32436e; }
.secondary { background:#18233a; }
.danger { background:#2a1515; border-color:#4b1919; color:#ffd9d9; }
.ghost { background: transparent; }

.primary:hover, .secondary:hover, .danger:hover, .ghost:hover {
  filter: brightness(1.1);
}

.loaded-row {
  grid-column: span 2;
  display: flex; align-items: center; gap: 12px;
  padding: 10px 12px; border: 1px dashed #2b3756; border-radius: 12px;
}

.switch {
  position: relative; width: 46px; height: 26px; display: inline-block;
}
.switch input { display: none; }
.slider {
  position: absolute; inset: 0; background:#27324e; border-radius:999px;
}
.slider::before {
  content: ""; position: absolute; height: 20px; width: 20px; left: 3px; top: 3px;
  background: white; border-radius:50%; transition: transform .2s ease;
}
.switch input:checked + .slider { background:#2c7fec; }
.switch input:checked + .slider::before { transform: translateX(20px); }

.loaded-meta { display:flex; align-items:center; gap:10px; }
.loaded-meta strong { letter-spacing:.3px; }
.loaded-meta small { color: var(--muted); }
.loaded-meta input[type="range"] { width: 160px; }

.stats {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 12px; margin: 14px 0 6px;
}
.stat {
  background: var(--panel);
  border: 1px solid #1f2a44;
  border-radius: var(--radius);
  padding: 14px;
  text-align: center;
}
.stat .label { color: var(--muted); font-size: 12px; margin-bottom: 4px; }
.stat .value { font-size: 20px; font-weight: 700; }

.history {
  margin-top: 18px;
  background: var(--panel);
  border: 1px solid #1f2a44; border-radius: var(--radius);
  padding: 16px;
}
.history h2 { margin-top: 0; }
#history {
  margin: 0; padding-left: 22px; max-height: 180px; overflow: auto;
}
#history li { padding: 2px 0; color: var(--muted); }
#history li strong { color: var(--ink); }

.footer {
  display:flex; align-items:center; gap: 10px; justify-content: space-between;
  margin-top: 16px;
}
.footer .tip { color: var(--muted); margin: 0 0 0 auto; }

kbd {
  background: #1f2a44; border: 1px solid #334166; border-bottom-width: 3px;
  padding: 2px 6px; border-radius: 6px; font-size: 12px;
}

/* responsive tweaks */
@media (max-width: 700px) {
  .stats { grid-template-columns: repeat(2, 1fr); }
  .controls { grid-template-columns: 1fr; }
  .loaded-row { flex-wrap: wrap; }
}
